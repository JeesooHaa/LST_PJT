{% extends 'base.html' %}

{% block title %}Article::Index{% endblock title %}

{% block body %}
<header><h1>자유게시판</h1></header>
<p class="alert alert-dark" role="alert">** 회원들과 다양한 정보를 공유해 보세요!</p>

{% comment %} 로그인 확인 {% endcomment %}
{% if user.is_authenticated %}
<a href="{% url 'articles:create' %}" style="color:yellowgreen;" role="button">[글 작성하기]</a>
{% else %}
<p>회원만 글을 작성할 수 있습니다!</p>
<a href="{% url 'accounts:signup' %}">회원이 아니신가요?</a>
{% endif %}
<hr>

{% comment %} 글 목록 {% endcomment %}
<hr>
{% for article in articles  %}
<div>
  {% comment %} is_staff 일때만 strong tag {% endcomment %}
  {% if article.user.is_staff %}
  <strong>{{ article.pk }}. {{ article.title }} by {{ article.user }}</strong>
  {% else %}
  <h3>{{ article.pk }}. {{ article.title }} by {{ article.user }}</h3>
  {% endif %} 
  <a href="{% url 'articles:detail' article.pk %}">[Detail]</a>
</div>
<br>
{% endfor %}
{% endblock body %}